(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-268f9682"],{4364:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-form",{ref:"filtersForm",attrs:{rules:t.rules,"label-width":"110px",model:t.filtersData,size:"small"}},[r("div",{staticClass:"tlogy-item"},[r("el-form-item",{attrs:{prop:"type",label:"操作系统："}},[r("el-select",{staticClass:"input-w-2",attrs:{placeholder:"请选择",disabled:t.showDisabled,value:t.filtersData.type},model:{value:t.filtersData.type,callback:function(e){t.$set(t.filtersData,"type",e)},expression:"filtersData.type"}},t._l(t.typeListData,function(t){return r("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}),1)],1),r("el-form-item",{attrs:{prop:"version",label:"版本号："}},[r("el-input",{staticClass:"input-w-2",attrs:{disabled:t.showDisabled,placeholder:"请输入版本号，如1.0.0"},model:{value:t.filtersData.version,callback:function(e){t.$set(t.filtersData,"version",e)},expression:"filtersData.version"}})],1),r("el-form-item",{attrs:{prop:"description",label:"版本描述："}},[r("el-input",{staticClass:"input-w-2",attrs:{type:"textarea",autosize:"",disabled:t.showDisabled,placeholder:"请输入内容"},model:{value:t.filtersData.description,callback:function(e){t.$set(t.filtersData,"description",e)},expression:"filtersData.description"}})],1),r("div",{staticClass:"item-footer"},["add"==t._type?r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.submitForm("filtersForm")}}},[t._v("确定")]):"edit"==t._type?r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.submitForm("filtersForm")}}},[t._v("修改")]):t._e(),r("el-button",{attrs:{size:"small"},on:{click:function(e){return t.routerback("filtersForm")}}},[t._v("取消")])],1)],1)])],1)},n=[],s=(r("6b54"),r("61f7")),a={data:function(){return{filtersData:{description:"",version:"",type:""},typeListData:[{name:"Android"},{name:"iOS"}],showDisabled:!1,editDisabled:!1,_type:"",_id:"",rules:{type:[{required:!0,message:"请选择操作系统",trigger:"change"}],version:[{required:!0,message:"输入版本号",trigger:"blur"},{validator:s["f"],trigger:"blur"}]}}},created:function(){this.getQueryparams()},methods:{getQueryparams:function(){this._type=this.$route.query.type,this._id=this.$route.query.id;var t=this._type;switch(t.toString()){case"add":this.editDisabled=!1,this.showDisabled=!1;break;case"edit":this.editDisabled=!0,this.showDisabled=!1,this.getEchoDisplayData();break;case"show":this.editDisabled=!0,this.showDisabled=!0,this.getEchoDisplayData();break}},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.request(e.api.version.applicationVersion_save,e.filtersData).then(function(t){e.$message.success("保存成功"),setTimeout(function(){e.routerback()},500)})})},getEchoDisplayData:function(){var t=this;this.request(this.api.version.applicationVersion_get,{id:this._id}).then(function(e){t.filtersData=e})},routerback:function(){this.$router.go(-1)}}},o=a,u=(r("c897"),r("2877")),l=Object(u["a"])(o,i,n,!1,null,"6b21c14b",null);e["default"]=l.exports},"4c54":function(t,e,r){},"61f7":function(t,e,r){"use strict";r.d(e,"f",function(){return i}),r.d(e,"e",function(){return n}),r.d(e,"k",function(){return s}),r.d(e,"n",function(){return a}),r.d(e,"g",function(){return o}),r.d(e,"i",function(){return u}),r.d(e,"h",function(){return l}),r.d(e,"l",function(){return c}),r.d(e,"d",function(){return d}),r.d(e,"a",function(){return f}),r.d(e,"c",function(){return p}),r.d(e,"m",function(){return m}),r.d(e,"b",function(){return h}),r.d(e,"j",function(){return v});r("4917");function i(t,e,r){var i=/^\d+\.\d+\.\d+$/;i.test(e)||r(new Error("请输入正确的版本号")),r()}function n(t,e,r){var i=/(http|https|ftp):\/\/([\w.]+\/?)\S*/;i.test(e)||r(new Error("请输入正确的下载地址")),r()}function s(t,e,r){var i=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d_]{6,18}$/;void 0!=t.skipAdmin&&0!=t.skipAdmin||"admin"!==e?""!==e.trim()?e.trim().length<6?r(new Error("长度最小6位")):i.test(e)?r():r(new Error("必须包含大小写英文字母+数字组合 6位到18位 支持下划线")):r(new Error("不能为空")):r()}function a(t,e,r){var i=/^[0-9A-Z]{1,2}$/,n=/^[0-9A-Z]{2,2}$/;""!==e.trim()?i.test(e)?n.test(e)?r():r(new Error("必须两位")):r(new Error("必须是大写英文字母或数字")):r(new Error("不能为空"))}function o(t,e,r){var i=/^[0-9]{1,2}$/,n=/^[0-9]{2,2}$/;""!==e.trim()?i.test(e)?n.test(e)?r():r(new Error("必须两位")):r(new Error("必须是数字")):r(new Error("不能为空"))}function u(t,e,r){var i=/^[0-9]*$/;if(e<=0)r(new Error("不能输入小于0"));else{if("validityPeriod"==t.field){if(e>100)return void r(new Error("不能输入大于100"))}else if(e>1e4)return void r(new Error("不能输入大于10000"));i.test(e)?r():r(new Error("请输入自然数"))}}function l(t,e,r){var i=/^\d(\.\d?)?$/g;e<=0?r(new Error("不能输入小于0")):i.test(e)?r():r(new Error("不能大于9.9或小于0.1"))}function c(t,e,r){e<=0?r(new Error("不能输入小于0")):r()}function d(t){t.target.value=t.target.value.match(/^\d*(\.?\d{0,2})/g)[0]||null}function f(t){t.target.value=t.target.value.match(/^[0-9]*/g)[0]||null}function p(t){var e=/^1[0-9][0-9]\d{8}$/;return e.test(t)}function m(t,e,r,i){var n=/^[0-9]*$/;e<=0?r(new Error("不能输入小于0")):i?e>i?r(new Error("计划出库不可大于可用库存")):e>1e5?r(new Error("不能输入大于100000")):n.test(e)?r():r(new Error("请输入自然数")):r(new Error("无可用库存！"))}function h(t){var e=/(\d{4}\s){4}\d{3}/;return e.test(t)}function v(t,e,r){var i=/^[0-9]*$/;e?i.test(e)?r():r(new Error("必须是数字组成")):r(new Error("必录"))}},c897:function(t,e,r){"use strict";var i=r("4c54"),n=r.n(i);n.a}}]);